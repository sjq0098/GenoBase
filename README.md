# GenoBase - 基因-物种-蛋白质数据库管理系统

本项目使用 Python + Flask + SQLAlchemy + MySQL 实现了一个生物信息数据库管理系统，支持基因、物种、蛋白质等多类数据的可视化管理，并完成了数据库系统课程的全部核心任务。

## 项目名称
GenoBase - 基因-物种-蛋白质数据库管理系统

## 必备环境
- Python 3.x
- MySQL 5.7/8.0+
- Flask
- SQLAlchemy
- 其他依赖见 `requirements.txt`

## 主要功能简介
本项目实现了对基因、物种、蛋白质、文献、实验数据等生物信息的管理。主要功能包括：
- 用户注册、登录与权限管理（支持创建者、管理员、读者三类角色）
- 物种、基因、蛋白质、文献、实验数据的增删改查
- 基于视图的统计与查询（如基因-物种-蛋白质数量统计、用户角色信息视图等）
- 存储过程控制下的更新操作（如物种、基因信息的安全更新）
- 触发器控制下的数据完整性约束（如蛋白质添加时自动校验基因存在性）
- 事务控制下的级联删除操作（如删除物种时自动删除相关基因、蛋白质等）
- 丰富的管理后台界面，支持分页、筛选、数据可视化

## 主要数据库特性
- **事务应用的删除操作**：如删除物种时，相关基因、蛋白质、实验数据等会被安全级联删除，保证数据一致性。
- **触发器控制的添加操作**：如添加蛋白质时，自动校验关联基因是否存在，防止脏数据。
- **存储过程控制的更新操作**：如更新基因/物种信息时，调用存储过程保证多表同步与业务规则。
- **视图的查询操作**：如 `GeneProteinCountBySpecies`、`UserRoleInfo` 等视图，支持复杂统计与一站式查询。

## 使用说明

1. **环境准备**
   - 安装 Python 3.x 和 MySQL
   - `pip install -r requirements.txt`

2. **数据库初始化**
   - 在 MySQL 中运行 `sql/advanced_features.sql`，创建所有表、视图、存储过程、触发器等
   - 配置 `config.py` 里的数据库连接信息

3. **运行项目**
   - 启动 Flask 应用：`python run.py`
   - 浏览器访问 `http://localhost:5000/admin` 进入管理后台

4. **主要页面与功能**
   - 用户管理：查看/切换用户状态，支持三类角色
   - 物种、基因、蛋白质、文献、实验数据的增删改查
   - 统计视图：如“基因-物种-蛋白质数量统计”页面，支持分页浏览
   - 所有操作均有权限控制和错误提示

## 典型功能举例

- **事务删除**：删除物种时，相关基因、蛋白质、实验数据自动删除
- **触发器添加**：添加蛋白质时，自动校验基因ID存在性
- **存储过程更新**：编辑物种/基因时，调用存储过程保证多表一致
- **视图查询**：如 `/admin/gene_protein_count` 页面，展示每个基因对应的蛋白质数量

## 评分要求覆盖说明

- [√] 项目信息
- [√] 系统配置
- [√] 数据库设计
- [√] 含有事务应用的删除操作
- [√] 触发器控制下的添加操作
- [√] 存储过程控制下的更新操作
- [√] 含有视图的查询操作


